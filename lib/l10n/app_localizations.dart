import 'package:flutter/material.dart';

class AppLocalizations {
  final Locale locale;
  
  AppLocalizations(this.locale);
  
  static AppLocalizations of(BuildContext context) {
    return Localizations.of<AppLocalizations>(context, AppLocalizations)!;
  }
  
  static const LocalizationsDelegate<AppLocalizations> delegate = _AppLocalizationsDelegate();
  
  static final Map<String, Map<String, String>> _localizedValues = {
    'en': _enStrings,
    'zh': _zhStrings,
  };
  
  String get(String key) {
    return _localizedValues[locale.languageCode]?[key] ?? 
           _localizedValues['en']?[key] ?? 
           key;
  }
  
  String translate(String key) => get(key);
}

class _AppLocalizationsDelegate extends LocalizationsDelegate<AppLocalizations> {
  const _AppLocalizationsDelegate();
  
  @override
  bool isSupported(Locale locale) => ['en', 'zh'].contains(locale.languageCode);
  
  @override
  Future<AppLocalizations> load(Locale locale) async => AppLocalizations(locale);
  
  @override
  bool shouldReload(_AppLocalizationsDelegate old) => false;
}

const Map<String, String> _enStrings = { // powered by ai 大侠。
  
  'app_name': 'Oblivion Launcher',
  'cancel': 'Cancel',
  'confirm': 'Confirm',
  'save': 'Save',
  'delete': 'Delete',
  'close': 'Close',
  'refresh': 'Refresh',
  'search': 'Search',
  'settings': 'Settings',
  'download': 'Download',
  'install': 'Install',
  'installed': 'Installed',
  'loading': 'Loading...',
  'error': 'Error',
  'success': 'Success',
  'warning': 'Warning',
  'export': 'Export',
  'clear': 'Clear',
  'add': 'Add',
  'select': 'Select',
  'current': 'Current',
  'version': 'Version',
  'author': 'Author',
  'found': 'Found',
  'width': 'Width',
  'height': 'Height',
  
  
  'nav_home': 'Home',
  'nav_versions': 'Versions',
  'nav_mods': 'Mods',
  'nav_accounts': 'Accounts',
  'nav_downloads': 'Downloads',
  'nav_settings': 'Settings',
  'nav_about': 'About',

  
  'welcome_back': 'Welcome Back',
  'ready_to_play': 'Ready to play',
  'launch_game': 'Launch Game',
  'select_version': 'Select Version',
  'select_account': 'Select Account',
  'no_version_selected': 'No version selected',
  'no_account_selected': 'No account selected',
  'game_output': 'Game Output',
  'clear_log': 'Clear Log',
  'export_log': 'Export Log',
  'clear_log_confirm': 'Are you sure you want to clear the log?',
  'java_settings': 'Java Settings',
  'auto_select_java': 'Auto Select Java',
  'auto_select_java_hint': 'Automatically select based on game version',
  'use_auto_select': 'Using auto select',
  'scan_java': 'Scan Java',
  'java_count': 'Java installations',
  
  
  'version_management': 'Version Management',
  'installed_versions': 'Installed',
  'available_versions': 'Available',
  'version_name': 'Version Name',
  'version_isolation': 'Version Isolation',
  'isolation_none': 'None',
  'isolation_partial': 'Partial',
  'isolation_full': 'Full',
  'isolation_none_desc': 'Shared game directory',
  'isolation_partial_desc': 'Separate saves and mods',
  'isolation_full_desc': 'Fully isolated',
  'mod_loader': 'Mod Loader',
  'install_optifine': 'Install OptiFine',
  'optifine_desc': 'Performance optimization and shader support',
  'rename_version': 'Rename Version',
  'duplicate_version': 'Duplicate Version',
  'backup_version': 'Backup Version',
  'delete_version': 'Delete Version',
  'version_settings': 'Version Settings',
  'show_snapshots': 'Snapshots',
  'show_old_versions': 'Old Versions',
  'version_release': 'Release',
  'version_beta': 'Beta',
  'version_alpha': 'Alpha',
  
  
  'mod_management': 'Mod Management',
  'installed_mods': 'Installed',
  'download_mods': 'Download',
  'search_mods': 'Search mods...',
  'search_version_hint': 'Search by version, loader (e.g. 1.20.1, fabric)',
  'no_mods': 'No mods installed',
  'add_mod': 'Add Mod',
  'open_folder': 'Open Folder',
  'popular_mods': 'Popular Mods',
  'enter_keyword': 'Enter keyword to search',
  'no_compatible_version': 'No compatible version found',
  'select_version_download': 'Select Version',
  'page': 'Page',
  'sort_relevance': 'Relevance',
  'sort_downloads': 'Downloads',
  'sort_updated': 'Recently Updated',
  'sort_newest': 'Newest',

  
  'cat_all': 'All',
  'cat_adventure': 'Adventure',
  'cat_cursed': 'Cursed',
  'cat_decoration': 'Decoration',
  'cat_economy': 'Economy',
  'cat_equipment': 'Equipment',
  'cat_food': 'Food',
  'cat_game-mechanics': 'Game Mechanics',
  'cat_library': 'Library',
  'cat_magic': 'Magic',
  'cat_management': 'Management',
  'cat_minigame': 'Minigame',
  'cat_mobs': 'Mobs',
  'cat_optimization': 'Optimization',
  'cat_social': 'Social',
  'cat_storage': 'Storage',
  'cat_technology': 'Technology',
  'cat_transportation': 'Transportation',
  'cat_utility': 'Utility',
  'cat_worldgen': 'World Generation',
  
  
  'account_management': 'Account Management',
  'add_account': 'Add Account',
  'no_accounts': 'No accounts',
  'add_account_hint': 'Click to add account or drag authlib link',
  'drag_authlib_hint': 'Drag and drop skin server link for quick login',
  'offline_account': 'Offline Account',
  'microsoft_account': 'Microsoft Account',
  'authlib_account': 'Authlib-Injector',
  'offline': 'Offline',
  'microsoft': 'Microsoft',
  'authlib': 'Authlib',
  'login': 'Login',
  'logout': 'Logout',
  'username': 'Username',
  'username_hint': 'Enter your in-game name',
  'password': 'Password',
  'email_username': 'Email/Username',
  'auth_server': 'Auth Server',
  'server_url': 'Server URL',
  'microsoft_login_title': 'Microsoft Login',
  'microsoft_login_desc': 'Login with your Microsoft account',
  'microsoft_login_instruction': 'Click login to open browser for Microsoft authentication',
  'open_login_page': 'Open Login Page',
  'waiting_for_login': 'Waiting for login...',
  'delete_account': 'Delete Account',
  'delete_account_confirm': 'Are you sure you want to delete account',
  'error_empty_username': 'Please enter username',
  'error_empty_server': 'Please enter auth server address',
  'error_empty_credentials': 'Please enter username and password',

  
  'download_management': 'Download Management',
  'no_downloads': 'No download tasks',
  'download_hint': 'Download tasks will appear here',
  'stop_all': 'Stop All',
  'clear_completed': 'Clear Completed',
  'downloading': 'Downloading',
  'completed': 'Completed',
  'failed': 'Failed',
  'pending': 'Pending',
  'cancelled': 'Cancelled',
  'files': 'files',
  'files_failed': 'files failed',
  
  
  'settings_hint': 'Global settings, version-specific settings take priority',
  'general_settings': 'General',
  'game_settings': 'Game',
  'download_settings': 'Download',
  'appearance': 'Appearance',
  'language': 'Language',
  'theme': 'Theme',
  'theme_system': 'System',
  'theme_light': 'Light',
  'theme_dark': 'Dark',
  'game_directory': 'Game Directory',
  'java_path': 'Java Path',
  'memory_settings': 'Memory',
  'min_memory': 'Minimum Memory',
  'max_memory': 'Maximum Memory',
  'dynamic_memory': 'Dynamic Memory',
  'dynamic_memory_hint': 'Automatically adjust based on available memory',
  'download_source': 'Download Source',
  'source_official': 'Official',
  'concurrent_downloads': 'Concurrent Downloads',
  'auto_complete_files': 'Auto Complete Files',
  'auto_complete_files_hint': 'Check and download missing game files',
  'window_size': 'Window Size',
  'fullscreen': 'Fullscreen',
  
  
  'about': 'About',
  'description': 'A modern Minecraft launcher',
  
  
  'error_launch_failed': 'Failed to launch game',
  'error_download_failed': 'Download failed',
  'error_install_failed': 'Installation failed',
  'error_login_failed': 'Login failed',
  'game_crashed': 'Game Crashed',
  'crash_log_title': 'Crash Report',
  'export_crash_log': 'Export Crash Log',
  'device_info': 'Device Info',
  
  
  'stop_game': 'Stop Game',
  'game_running': 'Game Running',
  
  
  'type_release': 'Release',
  'type_snapshot': 'Snapshot',
  'type_old_beta': 'Old Beta',
  'type_old_alpha': 'Old Alpha',
  
  
  'mod_source': 'Mod Source',
  'mod_source_modrinth': 'Modrinth',
  'mod_source_curseforge': 'CurseForge',
  'no_results': 'No results found',
  'load_popular': 'Load Popular Mods',
  'retry': 'Retry',
};

const Map<String, String> _zhStrings = {
  
  'app_name': 'Oblivion 启动器',
  'cancel': '取消',
  'confirm': '确定',
  'save': '保存',
  'delete': '删除',
  'close': '关闭',
  'refresh': '刷新',
  'search': '搜索',
  'settings': '设置',
  'download': '下载',
  'install': '安装',
  'installed': '已安装',
  'loading': '加载中...',
  'error': '错误',
  'success': '成功',
  'warning': '警告',
  'export': '导出',
  'clear': '清除',
  'add': '添加',
  'select': '选择',
  'current': '当前',
  'version': '版本',
  'author': '作者',
  'found': '已找到',
  'width': '宽度',
  'height': '高度',
  
  
  'nav_home': '首页',
  'nav_versions': '版本',
  'nav_mods': '模组',
  'nav_accounts': '账户',
  'nav_downloads': '下载',
  'nav_settings': '设置',
  'nav_about': '关于',
  
  
  'welcome_back': '欢迎回来',
  'ready_to_play': '准备开始游戏',
  'launch_game': '启动游戏',
  'select_version': '选择版本',
  'select_account': '选择账户',
  'no_version_selected': '未选择版本',
  'no_account_selected': '未选择账户',
  'game_output': '游戏输出',
  'clear_log': '清除日志',
  'export_log': '导出日志',
  'clear_log_confirm': '确定要清除日志吗？',
  'java_settings': 'Java 设置',
  'auto_select_java': '自动选择 Java',
  'auto_select_java_hint': '根据游戏版本自动选择',
  'use_auto_select': '使用自动选择',
  'scan_java': '扫描 Java',
  'java_count': '个 Java',

  
  'version_management': '版本管理',
  'installed_versions': '已安装',
  'available_versions': '可下载',
  'version_name': '版本名称',
  'version_isolation': '版本隔离',
  'isolation_none': '不隔离',
  'isolation_partial': '部分隔离',
  'isolation_full': '完全隔离',
  'isolation_none_desc': '共享游戏目录',
  'isolation_partial_desc': '独立存档和模组',
  'isolation_full_desc': '完全独立',
  'mod_loader': 'Mod 加载器',
  'install_optifine': '安装 OptiFine',
  'optifine_desc': '优化性能和光影支持',
  'rename_version': '重命名',
  'duplicate_version': '复制',
  'backup_version': '备份',
  'delete_version': '删除',
  'version_settings': '版本设置',
  'show_snapshots': '快照版',
  'show_old_versions': '远古版',
  'version_release': '正式版',
  'version_beta': '测试版',
  'version_alpha': '开发版',
  
  
  'mod_management': '模组管理',
  'installed_mods': '已安装',
  'download_mods': '下载模组',
  'search_mods': '搜索模组...',
  'search_version_hint': '搜索版本、加载器 (如 1.20.1, fabric)',
  'no_mods': '暂无模组',
  'add_mod': '添加模组',
  'open_folder': '打开文件夹',
  'popular_mods': '热门模组',
  'enter_keyword': '输入关键词搜索',
  'no_compatible_version': '没有找到兼容的版本',
  'select_version_download': '选择版本',
  'page': '页',
  'sort_relevance': '相关性',
  'sort_downloads': '下载量',
  'sort_updated': '最近更新',
  'sort_newest': '最新发布',
  
  
  'cat_all': '全部',
  'cat_adventure': '冒险',
  'cat_cursed': '诅咒',
  'cat_decoration': '装饰',
  'cat_economy': '经济',
  'cat_equipment': '装备',
  'cat_food': '食物',
  'cat_game-mechanics': '游戏机制',
  'cat_library': '前置库',
  'cat_magic': '魔法',
  'cat_management': '管理',
  'cat_minigame': '小游戏',
  'cat_mobs': '生物',
  'cat_optimization': '优化',
  'cat_social': '社交',
  'cat_storage': '存储',
  'cat_technology': '科技',
  'cat_transportation': '交通',
  'cat_utility': '实用工具',
  'cat_worldgen': '世界生成',

  
  'account_management': '账户管理',
  'add_account': '添加账户',
  'no_accounts': '暂无账户',
  'add_account_hint': '点击右上角添加账户，或拖放皮肤站链接',
  'drag_authlib_hint': '支持拖放皮肤站链接快速添加外置登录',
  'offline_account': '离线账户',
  'microsoft_account': '微软账户',
  'authlib_account': '外置登录',
  'offline': '离线',
  'microsoft': '微软',
  'authlib': '外置',
  'login': '登录',
  'logout': '登出',
  'username': '用户名',
  'username_hint': '输入游戏内显示的名称',
  'password': '密码',
  'email_username': '邮箱/用户名',
  'auth_server': '认证服务器',
  'server_url': '服务器地址',
  'microsoft_login_title': '微软登录',
  'microsoft_login_desc': '使用微软账户登录',
  'microsoft_login_instruction': '点击登录将打开浏览器进行微软账户认证',
  'open_login_page': '打开登录页面',
  'waiting_for_login': '等待登录...',
  'delete_account': '删除账户',
  'delete_account_confirm': '确定要删除账户',
  'error_empty_username': '请输入用户名',
  'error_empty_server': '请输入认证服务器地址',
  'error_empty_credentials': '请输入用户名和密码',
  
  
  'download_management': '下载管理',
  'no_downloads': '暂无下载任务',
  'download_hint': '下载游戏版本或资源时将显示在这里',
  'stop_all': '停止所有',
  'clear_completed': '清除已完成',
  'downloading': '下载中',
  'completed': '已完成',
  'failed': '失败',
  'pending': '等待中',
  'cancelled': '已取消',
  'files': '个文件',
  'files_failed': '个文件下载失败',

  
  'settings_hint': '全局设置，版本独立设置优先级更高',
  'general_settings': '通用',
  'game_settings': '游戏',
  'download_settings': '下载',
  'appearance': '外观',
  'language': '语言',
  'theme': '主题',
  'theme_system': '跟随系统',
  'theme_light': '浅色',
  'theme_dark': '深色',
  'game_directory': '游戏目录',
  'java_path': 'Java 路径',
  'memory_settings': '内存设置',
  'min_memory': '最小内存',
  'max_memory': '最大内存',
  'dynamic_memory': '动态内存',
  'dynamic_memory_hint': '根据系统可用内存自动调整',
  'download_source': '下载源',
  'source_official': '官方',
  'concurrent_downloads': '并发下载数',
  'auto_complete_files': '自动补全文件',
  'auto_complete_files_hint': '检查并下载缺失的游戏文件',
  'window_size': '窗口大小',
  'fullscreen': '全屏',
  
  
  'about': '关于',
  'description': '一个现代风的 Minecraft 启动器',
  
  
  'error_launch_failed': '启动游戏失败',
  'error_download_failed': '下载失败',
  'error_install_failed': '安装失败',
  'error_login_failed': '登录失败',
  'game_crashed': '游戏崩溃',
  'crash_log_title': '崩溃报告',
  'export_crash_log': '导出崩溃日志',
  'device_info': '设备信息',
  
  
  'stop_game': '停止游戏',
  'game_running': '游戏运行中',
  
  
  'type_release': '正式版',
  'type_snapshot': '快照版',
  'type_old_beta': '远古Beta',
  'type_old_alpha': '远古Alpha',
  
  
  'mod_source': '模组来源',
  'mod_source_modrinth': 'Modrinth',
  'mod_source_curseforge': 'CurseForge',
  'no_results': '未找到结果',
  'load_popular': '加载热门模组',
  'retry': '重试',
};
